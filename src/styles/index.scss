@use './reset' as *;
@use './mixins' as *;

// ========================
// Application Variables
// ========================

:root {
	--white: #ffffff;
	--black: #000000;

	// Primary palette
	--primary-50: #eff6ff;
	--primary-100: #dbeafe;
	--primary-200: #bfdbfe;
	--primary-300: #93c5fd;
	--primary-400: #60a5fa;
	--primary-500: #3b82f6;
	--primary-600: #2563eb;
	--primary-700: #1d4ed8;
	--primary-800: #1e40af;
	--primary-900: #1e3a8a;
	--primary-950: #172554;

	// Secondary palette
	--secondary-50: #f5f3ff;
	--secondary-100: #ede9fe;
	--secondary-200: #ddd6fe;
	--secondary-300: #c4b5fd;
	--secondary-400: #a78bfa;
	--secondary-500: #8b5cf6;
	--secondary-600: #7c3aed;
	--secondary-700: #6d28d9;
	--secondary-800: #5b21b6;
	--secondary-900: #4c1d95;
	--secondary-950: #2e1065;

	// Gray palette
	--gray-50: #fafafa;
	--gray-100: #f5f5f5;
	--gray-200: #e5e5e5;
	--gray-300: #d4d4d8;
	--gray-400: #a1a1aa;
	--gray-500: #71717a;
	--gray-600: #52525b;
	--gray-700: #3f3f46;
	--gray-800: #27272a;
	--gray-900: #18181b;
	--gray-950: #09090b;

	// Semantic colors for light theme
	--light-bg-primary: var(--white);
	--light-bg-secondary: var(--gray-50);
	--light-bg-tertiary: var(--gray-200);

	--light-text-primary: var(--gray-900);
	--light-text-secondary: var(--gray-700);
	--light-text-tertiary: var(--gray-500);

	--light-border: var(--gray-200);

	// Semantic colors for dark theme
	--dark-bg-primary: var(--gray-950);
	--dark-bg-secondary: var(--gray-900);
	--dark-bg-tertiary: var(--gray-800);

	--dark-text-primary: var(--gray-50);
	--dark-text-secondary: var(--gray-200);
	--dark-text-tertiary: var(--gray-400);

	--dark-border: var(--gray-800);

	// Component colors
	--success: #10b981;
	--warning: #f59e0b;
	--error: #ef4444;
	--info: #3b82f6;

	// Shadows
	--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
	--shadow-md:
		0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
	--shadow-lg:
		0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);

	// Animation
	--transition-fast: 0.15s ease;
	--transition-base: 0.3s ease;
	--transition-slow: 0.5s ease;

	// Typography
	--font-sans: 'Inter', system-ui, -apple-system, sans-serif;

	// Border radius
	--radius-sm: 0.5rem;
	--radius-md: 0.75rem;
	--radius-lg: 1rem;
	--radius-full: 9999px;
}

// ========================
// Theme Mixins
// ========================

@mixin light-theme {
	--primary-contrast: var(--primary-700);

	--bg-primary: var(--light-bg-primary);
	--bg-secondary: var(--light-bg-secondary);
	--bg-tertiary: var(--light-bg-tertiary);

	--text-primary: var(--light-text-primary);
	--text-secondary: var(--light-text-secondary);
	--text-tertiary: var(--light-text-tertiary);

	--border-color: var(--light-border);
	--scrollbar-thumb-color: var(--gray-400);
}

@mixin dark-theme {
	--primary-contrast: var(--primary-500);

	--bg-primary: var(--dark-bg-primary);
	--bg-secondary: var(--dark-bg-secondary);
	--bg-tertiary: var(--dark-bg-tertiary);

	--text-primary: var(--dark-text-primary);
	--text-secondary: var(--dark-text-secondary);
	--text-tertiary: var(--dark-text-tertiary);

	--border-color: var(--dark-border);
	--scrollbar-thumb-color: var(--bg-tertiary);
}

:root {
	--primary: var(--primary-600);
	--secondary: var(--secondary-600);

	// Component specific
	--header-bg: rgb(from var(--bg-primary) r g b / 0.75);
	--card-bg: var(--bg-secondary);
	--card-border: var(--border-color);

	@include light-theme;
}

:root[data-theme='dark'] {
	@include dark-theme;
}

@media (prefers-color-scheme: dark) {
	:root[data-theme='system'] {
		@include dark-theme;
	}
}

html {
	scroll-behavior: smooth;
}

body {
	font-family: var(--font-sans);
	line-height: 1.6;

	color: var(--text-primary);
	background-color: var(--bg-primary);

	overflow-x: hidden;
}

svg {
	width: 1em;
	height: 1em;
	flex-shrink: 0;
}

a,
button {
	display: inline-block;
	transition: all var(--transition-fast);

	&:focus-visible {
		transition: outline 0s;
		outline: 1px dashed var(--primary);
	}
	&:focus:not(:focus-visible) {
		outline: none;
	}

	@include unselectable;
}

input {
	outline: none;
}

img {
	-webkit-user-drag: none;
	width: 100%;
	height: 100%;
	@include unselectable;
}
::-webkit-scrollbar {
	width: clamp(0.5rem, 1.2vw, 1rem);
}

::-webkit-scrollbar-track {
	border-left: clamp(1px, 0.1vw, 4px) solid var(--border-color);
}

::-webkit-scrollbar-thumb {
	background: linear-gradient(
		90deg,
		transparent 24%,
		var(--scrollbar-thumb-color) 24%,
		var(--scrollbar-thumb-color) 82%,
		transparent 82%
	);
	border-top-right-radius: var(--radius-full);
	border-bottom-left-radius: var(--radius-full);

	@include hover {
		--scrollbar-thumb-color: var(--gray-500);
	}
}
